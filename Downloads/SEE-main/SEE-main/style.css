:root{
  --bg:#f3f6fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#0f62fe;
  --accent-dark:#0849b4;
  --glass: rgba(255,255,255,0.6);
  --shadow: 0 6px 18px rgba(16,24,40,0.08);
  --radius:10px;
  --max-width:1200px;
}

/* Reset & base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
body{background:var(--bg);color:#111;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

/* App container - Initially Hidden */
.app {
  display:none; 
  flex-direction:column;
  min-height:100vh;
  gap:18px;
  padding:18px;
  max-width:var(--max-width);
  margin:0 auto;
}
.app.active { display: flex; }

/* Top header with brand + nav + actions */
.topbar-main{
  width:100%;
  background:linear-gradient(180deg,#0b2a66,#08306a);
  color:white;
  border-radius:12px;
  padding:12px 16px;
  display:flex;
  align-items:center;
  gap:12px;
  box-shadow:var(--shadow);
}

.brand{display:flex;flex-direction:row;align-items:center;gap:12px;min-width:220px}
.brand .logo{width:46px;height:46px;border-radius:50%;background:rgba(255,255,255,0.06);object-fit:cover;border:2px solid rgba(255,255,255,0.12)}
.brand h1{font-size:18px;margin:0;color:#fff;letter-spacing:0.2px}

/* nav */
.nav{
  margin:0;
  display:flex;
  gap:8px;
  align-items:center;
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

.nav-btn{
  background:transparent;border:none;color:white;padding:8px 14px;border-radius:8px;cursor:pointer;font-size:14px;
  white-space:nowrap;
  transition:background .15s, transform .08s;
}
.nav-btn:hover{background:rgba(255,255,255,0.06); transform: translateY(-1px);}
.nav-btn.active{background:var(--glass);color:#fff}

/* Logout / special nav button */
.nav-btn.topbar-logout{
  margin-left:8px;
  padding:6px 10px;
  font-weight:600;
  background:#fef2f2 !important;
  color:#991b1b !important;
  border:1px solid #fee2e2 !important;
}
/* Main area */
.main{flex:1;display:flex;flex-direction:column;gap:12px;min-height:80vh;padding-top:6px}
.page{display:none}
.page.active{display:block}

/* Grid & Cards */
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
.card{background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);min-height:140px}
.card.wide{grid-column:1/3}
h2,h3{margin:6px 0 12px 0;color:#0f172a}
.split{display:flex;gap:16px}
.split .card{flex:1}

/* lists & tables */
.tag-list{display:flex;flex-wrap:wrap;gap:8px;padding:0;list-style:none;margin:0}
.tag-list li{background:#eff6ff;padding:6px 10px;border-radius:999px;border:1px solid #dbeafe}
.tag-list li:hover {background:#dbeafe;}
#compareTable{width:100%;border-collapse:collapse}
#compareTable th,#compareTable td{border:1px solid #eef2ff;padding:8px;text-align:left;font-size:14px}
#peerList{display:flex;flex-direction:column;gap:10px;margin:0;padding:0}
.peer-item{padding:12px;border-radius:8px;background:#fbfdff;border:1px solid #eef6ff;display:flex;align-items:center;gap:12px}
.peer-item .peer-meta{font-size:13px;color:var(--muted)}

/* profile summary */
#profileSummary{display:flex;align-items:center;gap:12px}
.pfp{width:64px;height:64px;border-radius:50%;object-fit:cover;border:1px solid #e6eef8;background:#fff;cursor:pointer}

/* small helpers */
input,button,textarea,select{font-family:inherit}
input,textarea,select{padding:8px;border-radius:8px;border:1px solid #e6eef8;min-height:36px}
input[type="file"]{padding:4px}
button{background:var(--accent);color:white;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
button.secondary{background:#f3f4f6;color:#111;border:1px solid #e6eef8}

/* donut sizing tweak */
.small-donut-wrapper {
  display:flex;
  align-items:center;
  justify-content:center;
  padding:8px 0;
}
#domainChart { width: 220px !important; height: 220px !important; display: block; margin: 0 auto; }

/* responsiveness */
@media (max-width: 1100px){ .grid{grid-template-columns:1fr} }
@media (max-width: 900px){ .topbar-main{flex-direction:column;align-items:stretch;gap:10px} .nav{flex-wrap:wrap} .app{padding:10px} }

/* Resource grid */
.resource-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; }
@media (max-width:900px){ .resource-grid{ grid-template-columns:1fr } }
.resource-card{ background:var(--card); padding:14px; border-radius:12px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:8px; min-height:80px; }
.resource-card .meta{ display:flex; justify-content:space-between; align-items:center; gap:8px; }
.resource-card .title{ font-weight:700; font-size:15px; margin:0; color:#0f172a }
.resource-card .note{ font-size:13px; color:var(--muted); margin-top:6px }
.resource-card a{ word-break:break-all; text-decoration: none; color:var(--accent) }

/* gap chips */
.gap-chips{ display:flex; flex-wrap:wrap; gap:8px; padding:8px 0; }
.gap-chip{ background:#f1f8ff; border:1px solid #dbeafe; padding:8px 10px; border-radius:999px; display:flex; gap:8px; align-items:center; cursor:pointer; transition:transform .08s, box-shadow .12s; }
.gap-chip:hover{ transform:translateY(-3px); box-shadow:0 6px 20px rgba(15,98,254,0.06); }
.gap-chip small{ color:var(--muted); font-size:12px }

/* company list */
.company-cards{ display:flex; flex-wrap:wrap; gap:10px; align-items:flex-start; }
.company-card{ background:#fff; border-radius:10px; padding:10px; display:flex; gap:12px; align-items:center; border:1px solid #eef6ff; min-width:220px; }
.company-avatar{ width:44px; height:44px; border-radius:8px; display:flex; align-items:center; justify-content:center; font-weight:700; background:#f3f6fb; color:#0f172a }

/* modal */
.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.35); z-index:40; }
.modal-content{ width:420px; max-width:calc(100% - 32px); background:var(--card); padding:16px; border-radius:12px; box-shadow:var(--shadow); }
.modal-content h3{margin:0 0 8px 0}
.modal-content input, .modal-content select{ width:100%; margin-top:6px }

/* helpers */
.muted{ color:var(--muted); font-size:13px }
.small{ font-size:12px; color:var(--muted) }
button:focus, input:focus, .nav-btn:focus{ outline:3px solid rgba(15,98,254,0.12); outline-offset:3px; }
.center{ text-align:center }

/* Auth Screen */
.auth-screen {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.auth-card {
  background: white;
  padding: 32px;
  border-radius: 12px;
  box-shadow: 0 4px 6px -1px #0000001a;
  width: 100%;
  max-width: 400px;
}

.auth-card h2 {
  margin-bottom: 24px;
  text-align: center;
}

.auth-card input {
  width: 100%;
  margin-bottom: 12px;
}

.auth-switch {
  margin-top: 16px;
  text-align: center;
  font-size: 14px;
  color: var(--primary);
  cursor: pointer;
}
.auth-switch:hover { text-decoration: underline; }

.auth-msg {
  color: #dc2626;
  font-size: 14px;
  margin-top: 12px;
  text-align: center;
}
